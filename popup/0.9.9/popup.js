define("#popup/0.9.9/popup",["$","#overlay/0.9.11/overlay","#position/1.0.0/position","#iframe-shim/1.0.0/iframe-shim","#widget/1.0.2/widget","#base/1.0.1/base","#class/1.0.0/class","#events/1.0.0/events"],function(e,t,n){var r=e("$"),i=e("#overlay/0.9.11/overlay"),s=i.extend({attrs:{trigger:{value:null,getter:function(e){return r(e)}},triggerType:"hover",delay:100,ifTriggerDisabled:function(){var e=this.trigger[0];return e.tagName==="INPUT"&&e.disabled}},setup:function(){s.superclass.setup.call(this),this._bindTrigger(),this._tweakAlignDefaultValue(),this._blurHide([this.get("trigger")])},toggle:function(){this[this.get("visible")?"hide":"show"]()},_tweakAlignDefaultValue:function(){var e=this.get("align");e.baseXY.toString()===[0,0].toString()&&(e.baseXY=[0,"100%"]),e.baseElement._id==="VIEWPORT"&&(e.baseElement=this.get("trigger")),this.set("align",e)},_bindTrigger:function(){function o(){clearTimeout(r),s.get("visible")&&(i=setTimeout(function(){s.hide()},n))}var e=this.get("trigger"),t=this.get("triggerType"),n=this.get("delay"),r,i,s=this;t==="click"?e.on(t,function(e){e.preventDefault(),s.toggle()}):t==="focus"?e.on("focus blur",function(){s.toggle()}):(e.hover(function(){clearTimeout(i),s.get("visible")||(r=setTimeout(function(){s.show()},n))},o),this.element.hover(function(){clearTimeout(i)},o))}});n.exports=s});